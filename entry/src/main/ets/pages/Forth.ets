import router from '@ohos.router';

// å®šä¹‰è¡¨å•æ•°æ®æ¥å£
interface FormData {
  foodType: string;
  mealTime: string;
  dietGoal: string;
}

@Entry
@Component
struct Index {
  @State message1: string = '\næ‚¨åå¥½çš„é£Ÿå“ç§ç±»ï¼Ÿ\n'
  @State message2: string = '\næ‚¨åå¥½çš„å°±é¤æ—¶é—´ï¼Ÿ\n'
  @State message3: string = '\né¥®é£Ÿè®¡åˆ’æœŸæœ›ç›®æ ‡ï¼Ÿ\n'
  @State formData: FormData = {
    foodType: '',
    mealTime: '',
    dietGoal: ''
  }

  build() {
    Column() {
      Column() {
        Text(`${this.message1}`)
          .textAlign(TextAlign.Center)
          .fontWeight(FontWeight.Bold)
        TextInput()
          .onChange((value: string) => {
            this.formData.foodType = value;
          })
        Text(`${this.message2}`)
          .textAlign(TextAlign.Center)
          .fontWeight(FontWeight.Bold)
        TextInput()
          .onChange((value: string) => {
            this.formData.mealTime = value;
          })
        Text(`${this.message3}`)
          .textAlign(TextAlign.Center)
          .fontWeight(FontWeight.Bold)
        TextInput()
          .onChange((value: string) => {
            this.formData.dietGoal = value;
          })
        Button("ç»§ç»­")
          .borderRadius("5vp")
          .width("80%")
          .height("50vp")
          .margin({ top: "10vp" })
          .onClick(() => this.clickNext())
      }
      .width("100%")
      .height("100%")
      .justifyContent(FlexAlign.Center)
    }
    .width("100%")
    .height("100%")
  }

  clickNext() {
    // ä½¿ç”¨æ˜ç¡®çš„ç±»å‹è€Œä¸æ˜¯ç©ºå¯¹è±¡å­—é¢é‡?
    const params: FormData = {
      foodType: this.formData.foodType,
      mealTime: this.formData.mealTime,
      dietGoal: this.formData.dietGoal
    };
    
    router.pushUrl({
      url: "pages/Index", // ä¿®æ”¹ä¸ºæ­£ç¡®çš„Indexé¡µé¢
      params: params
    }, router.RouterMode.Single)
  }
}
